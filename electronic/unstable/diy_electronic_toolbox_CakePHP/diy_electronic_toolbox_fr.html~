<!DOCTYPE html>
<html lang="fr" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="Electronic DIY toolbox fr" content=
  "Boite à outil pour la récupération de composants électroniques">
    <meta charset="utf-8"/>  <title>Electronic DIY toolbox fr"</title>
<style>
.cssmenu{padding:0;margin:0;border:0;width:auto}.cssmenu ul,.cssmenu li{list-style:none;margin:0;padding:0}.cssmenu ul{position:relative;z-index:597}.cssmenu ul li{float:left;min-height:1px;vertical-align:middle}.cssmenu ul li.hover,.cssmenu ul li:hover{position:relative;z-index:599;cursor:default}.cssmenu ul ul{visibility:hidden;position:absolute;top:100%;left:0;z-index:598;width:100%}.cssmenu ul ul li{float:none}.cssmenu ul ul ul{top:0;left:190px;width:190px}.cssmenu ul li:hover>ul{visibility:visible}.cssmenu ul ul{bottom:0;left:0}.cssmenu ul ul{margin-top:0}.cssmenu ul ul li{font-weight:normal}.cssmenu a{display:block;line-height:1em;text-decoration:none}.cssmenu{background:#333;border-bottom:4px solid #1b9bff;font-size:12px}.cssmenu>ul{display:inline-block}.cssmenu:after,.cssmenu ul:after{content:'';display:block;clear:both}.cssmenu ul{text-transform:uppercase}.cssmenu ul ul{border-top:4px solid #1b9bff;text-transform:none;min-width:190px}.cssmenu ul ul a{background:#1b9bff;color:#fff;border:1px solid #0082e7;border-top:0 none;line-height:150%;padding:16px 20px;font-size:12px}.cssmenu ul ul ul{border-top:0 none}.cssmenu ul ul li{position:relative}.cssmenu ul ul li:first-child>a{border-top:1px solid #0082e7}.cssmenu ul ul li:hover>a{background:#4eb1ff;color:#fff}.cssmenu ul ul li:last-child>a{-moz-border-radius:0 0 3px 3px;-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;-moz-box-shadow:0 1px 0 #1b9bff;-webkit-box-shadow:0 1px 0 #1b9bff;box-shadow:0 1px 0 #1b9bff}.cssmenu ul ul li:last-child:hover>a{-moz-border-radius:0 0 0 3px;-webkit-border-radius:0 0 0 3px;border-radius:0 0 0 3px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box}.cssmenu ul ul li.has-sub>a:after{content:'+';position:absolute;top:50%;right:15px;margin-top:-8px}.cssmenu ul li:hover>a{background:#1a8de7;color:#fff}.cssmenu ul li.active>a{background:#1b9bff;color:#fff}.cssmenu ul li.has-sub>a:after{content:'+';margin-left:5px}.cssmenu ul li.last ul{left:auto;right:0}.cssmenu ul li.last ul ul{left:auto;right:99.5%}.cssmenu a{background:#333;color:#cbcbcb;padding:0 20px}.cssmenu>ul>li>a{line-height:48px;font-size:12px}
#menu .menu_lvl0{
    text-align:center;
    width:100%;
    max-width:80em;
}
#menu .menu_lvl1{
    top:0;left:0;
    margin:0;padding:0;
    text-transform: uppercase;
}
#menu .menu_lvl0 ul {
    width:100%;
}
#menu .menu_lvl0 li {
    width:25%;
}
#menu .menu_lvl1 li {
    width:100%;
}
#menu .menu_lvl0 li a {
    	-webkit-touch-callout:none;	-webkit-user-select:none;	-khtml-user-select:none;	-moz-user-select:none;	-ms-user-select:none;	user-select:none;;
}
@media screen and (max-width:480px) {
    #menu .longdesc{
        display:none;
    }
    #menu .shortdesc{
        display:inline;
    }
}
@media screen and (min-width:480px) {
    #menu .longdesc{
        display:inline;
    }
    #menu .shortdesc{
        display:none;
    }
}
</style>
<!--add style to element linked to menu_item 'resistor_decoder-->
<!--add style to element linked to menu_item 'block_stock_resistor-->
<style>
/*Les boutons */
button{
	border: 1.5px solid gray;
	background-color:white;
	cursor:default;
	min-width:1.75em;
}
button:active{
	transform: translate(-5px,0px);
	-webkit-transform: translate(-5px,0px);
	-ms-transform: translate(-5px,0px);
}
button:hover{
	border: 1.5px solid black;
	background-color:#40FF40;
	cursor:pointer;
}
.button_waiting{
	cursor:wait !important;
	background-color:gray;
}
.button_hidden{
	display:none;
}
.button_deprecated{
	background-color:gray;
	border: 1.5px solid black;
	color:white;
}
.button_deprecated:hover{
	border: 1.5px solid black;
	background-color:red;
	cursor:pointer;
}
.button_disabled{
	background-color:gray;
	border: 1.5px solid gray;
	opacity:0.1;
}
.button_disabled:hover{
	background-color:gray;
}
.button_waiting:hover{
	cursor:wait !important;
	background-color:gray;
}
.cei_color_Black{background-color:black;color:white;border:1px solid black;-moz-user-select:none}.cei_color_Brown{background-color:brown;border:1px solid black;-moz-user-select:none}.cei_color_Red{background-color:red;border:1px solid black;-moz-user-select:none}.cei_color_Orange{background-color:#ff7000;border:1px solid black;-moz-user-select:none}.cei_color_Yellow{background-color:yellow;border:1px solid black;-moz-user-select:none}.cei_color_Green{background-color:green;color:white;border:1px solid black;-moz-user-select:none}.cei_color_Blue{background-color:blue;color:white;border:1px solid black;-moz-user-select:none}.cei_color_Violet{background-color:violet;border:1px solid black;-moz-user-select:none}.cei_color_Gray{background-color:gray;border:1px solid black;-moz-user-select:none}.cei_color_White{background-color:white;border:1px solid black;-moz-user-select:none}.cei_color_Gold{background-color:gold;border:1px solid black;-moz-user-select:none}.cei_color_Silver{background-color:silver;border:1px solid black;-moz-user-select:none}.cei_color_None{background-color:rgba(0,0,0,0.0);border:1px solid rgba(0,0,0,0);-moz-user-select:none}.cei_color_Transparent{background-color:rgba(175,175,175,0.2);border:1px solid rgba(175,175,175,0.1);-moz-user-select:none}.cei_color_Beige{background-color:#ffffad;-moz-user-select:none}.cei_color_Cyan{background-color:#1e90ff;-moz-user-select:none}.cei_color_Pink{background-color:#ff778f;-moz-user-select:none}.cei_color_CapGreen{background-color:#90ee90;-moz-user-select:none}.ceramic_color_Brown{background-color:#ffa500;-moz-user-select:none}.resistor_blink_val{display:inline-block;border:2px solid rgba(0,255,0,0.9);-moz-user-select:none}.resistor_blink_val_hidden{display:inline-block;border:2px solid rgba(255,255,0,0);-moz-user-select:none}.resistor_view_canvas{display:inline-block;text-align:center;border:1px dashed gray;background-color:rgba(255,255,255,0.25);padding:.5em;margin:.25em}.resistor_view_canvas_resistor_small{border:1px dashed gray;background-color:rgba(255,255,255,0.25);margin:.5em;padding:0}.resistor_view_canvas_resistor_small .resistor_view{color:red;margin-top:1em}.resistor_view_canvas input{background-color:rgba(255,255,255,0);border:0}.resistor_view{border:2px solid black;box-shadow:2px 2px 5px #888;border-radius:.25em}.power_resistor_view{border:2px solid yellow;background-color:gold;box-shadow:2px 2px 5px #888}.eletrolytic_pkg_view_round{border-radius:10em;margin:0;padding:0}.eletrolytic_pkg_view_cylinder input{font-size:.5em;margin-top:1em;margin-bottom:1em;padding:0;border:0}.eletrolytic_pkg_view_cylinder{border-radius:10em;margin:0;padding:0;box-shadow:5px 1px 5px rgba(136,136,136,0.5)}.plastic_pkg_view{box-shadow:2px 2px 5px #888;min-width:4em}.resistor_small{font-size:x-small}.resistor_inline{display:inline-block}#stock_view_resistor,#stock_view_capacitor{left:0;overflow:auto;text-align:left;padding-top:.25em;padding-bottom:.25em}#stock_view_resistor .div_article,#stock_view_capacitor .div_article{padding:0;margin:0}#stock_view_resistor .div_button,#stock_view_capacitor .div_button{opacity:0;display:block}#stock_view_resistor .div_article:hover,#stock_view_capacitor .div_article:hover{background-color:white}#stock_view_resistor .div_article:hover .div_button,#stock_view_capacitor .div_article:hover .div_button{opacity:1}#stock_view_resistor .div_article .div_button button #stock_view_capacitor .div_article .div_button button{margin:0;padding:0;display:inline;opacity:.7;position:relative}#stock_view_resistor .div_article .div_button button:hover,#stock_view_capacitor .div_article .div_button button{opacity:1}#stock_view_resistor .div_button{display:none}#stock_view_resistor:hover .div_button{display:block}#taken_stock_view_resistor{padding-top:1em;padding-bottom:1em;width:100%;height:10em;overflow:auto}
.draggable{cursor:move}.droppable{cursor:cell}.border_round{border-radius:1em}.rotate_item_unvertical{transform:rotate(90deg);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);display:inline-block}.up_big_item{position:relative;bottom:.5em}.up_small_item{position:relative;bottom:.25em}.down_small_item{position:relative;bottom:-0.25em}.rotate_item_vertical{transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);display:inline-block}.rotate_item_shake{transform:rotate(-10deg);-webkit-transform:rotate(-10deg);-ms-transform:rotate(-10deg)}.rotate_item_hurt1{transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg)}.rotate_item_hurt2{transform:rotate(-120deg);-webkit-transform:rotate(-120deg);-ms-transform:rotate(-120deg)}.rotate_item_hurt3{transform:rotate(180deg);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg)}.rotate_item_hurt4{transform:rotate(120deg);-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg)}.rotate_item_hurt5{transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg)}.hidden_data{opacity:0}.blink_data{opacity:.25}.shown_data{opacity:.9}big{font-size:2em}
.resistor_block{display:inline;border-bottom:1px solid black;text-align:left;width:100%;display:none}#resistor_settings{display:inline-block;padding:.2em;max-width:40em;text-align:left}#resistor_settings .cei_color_list{text-align:center}.resistor_prop_title .info{font-weight:normal}.resistor_prop_title{list-style-type:none;padding-left:.5em;padding-right:.5em;border:0;font-weight:bold;font-size:small;text-align:center}.cei_color_block{display:inline-block;margin:0;padding:0;float:left}.cei_color_block ul{display:inline-block;margin:0;padding:0;float:left}.cei_color_block li{list-style-type:none;border:1px solid black;margin:1.5px;min-width:1.2em;text-align:center;font-size:small;cursor:pointer;opacity:.7}.cei_color_block li:hover{opacity:1}.cei_color_list{display:inline-block;margin:0;padding:0;float:left}.cei_color_list li{list-style-type:none;border:1px solid black;margin:2px;min-width:1.5em;text-align:center;font-size:small;border-radius:.2em;cursor:pointer;opacity:.7}.cei_color_list li:hover{opacity:1}#resistor_settings article{display:inline-block}#resistor_settings div+ul li{font-size:large}.resistor_desc{margin:0;padding:0;float:left;text-align:left;width:100%}.resistor_mode_list ul{margin:0;padding:0;float:left;text-align:left;width:100%;font-size:small}.resistor_mode_list li{list-style-type:none;padding-left:.2em;display:inline-block;padding-right:.2em;text-align:center;border:1px solid grey;cursor:pointer;min-width:1em;opacity:.7}.resistor_mode_list li:hover{opacity:1}.resistor_mode_list .active,#pow .active{opacity:1;font-weight:bold;border:3px solid #4d4d4d}.resistor_mode_list .title{border:0;display:inline}.resistor_value_selector{opacity:.7;display:inline-block;float:left;border:1px solid #dcdfcc;margin:1px}.resistor_value_selector:hover{opacity:1;border:2px solid black}.resistor_value_selector .active{opacity:1;font-weight:bold;border:2px solid #000;border-radius:.5em}.resistor_value_selector li{margin:1px}#pow li{width:2.5em}#tol li{width:2em}#mult li{width:2.2em}
</style>
<!--add style to element linked to menu_item 'block_stock_capacitor-->
<!--add style to element linked to menu_item 'mini_calc-->
<!--add style to element linked to menu_item 'calc_combi_resistance-->
<!--add style to element linked to menu_item 'calcul_puissance-->
<!--add style to element linked to menu_item 'diviseur_tension-->
</head>
<body>
<nav id='menu'><div class='cssmenu menu_lvl0'>
<ul>
  <li id='menu_resistor_decoder'><a draggable='false' href='#'><span class='longdesc'>Ajout...</span><span class='shortdesc' title='Ajout...'>Ajout</span></a>
</li>
  <li id='menu_stock'><a draggable='false' href='#'><span class='longdesc'>Stock...</span><span class='shortdesc' title='Stock...'>Stock</span></a>
  <ul class=' menu_lvl1'>
    <li id='menu_block_stock_resistor'><a draggable='false'href='#'><span class='longdesc'>Mes résistances</span><span class='shortdesc' title='Mes résistances'>Résistances</span></a></li>
    <li id='menu_block_stock_capacitor'><a draggable='false'href='#'><span class='longdesc'>Mes condensateurs</span><span class='shortdesc' title='Mes condensateurs'>Condensateurs</span></a></li>
  </ul>
</li>
  <li id='menu_calcul'><a draggable='false' href='#'><span class='longdesc'>Calcul...</span><span class='shortdesc' title='Calcul...'>Calcul</span></a>
  <ul class=' menu_lvl1'>
    <li id='menu_mini_calc'><a draggable='false'href='#'><span class='longdesc'>Mini calculatrice</span><span class='shortdesc' title='Mini calculatrice'>Mini calc</span></a></li>
    <li id='menu_calc_combi_resistance'><a draggable='false'href='#'><span class='longdesc'>Combinaisons</span><span class='shortdesc' title='Combinaisons'>Combinaisons</span></a></li>
    <li id='menu_calcul_puissance'><a draggable='false'href='#'><span class='longdesc'>Puissance</span><span class='shortdesc' title='Puissance'>Puissance</span></a></li>
  </ul>
</li>
  <li id='menu_montages'><a draggable='false' href='#'><span class='longdesc'>Montages...</span><span class='shortdesc' title='Montages...'>Montages</span></a>
  <ul class=' menu_lvl1'>
    <li id='menu_diviseur_tension'><a draggable='false'href='#'><span class='longdesc'>Diviseur de<br>tension</span><span class='shortdesc' title='Diviseur de tension'>Div.tension</span></a></li>
  </ul>
</li>
</ul>
</div></nav><section><!--content displayed by menu 'menu'-->
  <article id='resistor_decoder' class='app'>
  </article>
  <article id='block_stock_resistor' class='app'>
		<section id='stock_view_resistor' ></section>
		<section class='block_stock'>
			<div class='title'>
			  <label for="my_stock_resistor">Stock de résistances <small>(en Ohm, séparées par des espaces)</small>:<br></label>
			</div>
			<form>
			  <textarea  id="my_stock_resistor"
			  title="Aide : les notations m=e-3 k=e3 M=e6 sont reconnues par ce programme"
			   rows="4" cols=
			  "50"></textarea>
			</form>
		</section>
  </article>
  <article id='block_stock_capacitor' class='app'>
		<section id='stock_view_capacitor' ></section>
		<section class='block_stock'>
			<div class='title'>
			  <label for="my_stock_capacitor">Stock de condensateurs <small>(en Farad, séparées par des espaces)</small>:<br></label>
			</div>
			<form>
			  <textarea  id="my_stock_capacitor"
			  title="Aide : les notations u=e-6 n=e-9 p=e-12  sont reconnues par ce programme"
			   rows="4" cols=
			  "50"></textarea>
			</form>
		</section>
  </article>
  <article id='mini_calc' class='app'>
<article class='app' id="mini_calc">
  <header>
    <h3>Mini calculatrice</h3>
  </header>
  <section class='block_form0'>
    <p class="info">Opérateurs : ( R1 <strong>+</strong> R2 )
    &rarr; composants en série; ( R1 <strong>//</strong> R2 )
    &rarr; composants en parallèle.</p>
    <p class="info">Grandeurs : <strong>p</strong>ico(10^-12);
    <strong>n</strong>ano(10^-9); <strong>u</strong>:micro(10^-6);
    <strong>m</strong>illi(10^-3); <strong>k</strong>ilo(10^3);
    <strong>M</strong>ega(10^-6)</p>
    <div>
      Résistance &mdash;[///]- <span><input type="text" value=""
      name="calc_in_resistance" id="calc_in_resistance" size="20"
      onchange="mini_calc_resistance()" placeholder=
      "r // ( ((a+b)*(a-b)) / c )"></span>=<span id=
      "calc_out_resistance"></span> Ohm
    </div>
    <div>
      Capacitance &mdash;| |&mdash; <span><input type="text" value=
      "" name="calc_in_capacitance" id="calc_in_capacitance" size=
      "20" onchange="mini_calc_capacitance()" placeholder=
      "r // ( ((a+b)*(a-b)) / c )"></span>=<span id=
      "calc_out_capacitance"></span> Farad
    </div>
  </section>
</article>
  </article>
  <article id='calc_combi_resistance' class='app'>
  </article>
  <article id='calcul_puissance' class='app'>
  </article>
  <article id='diviseur_tension' class='app'>
  </article>
</section>
</body>
<script>
var menu_event_listener_tab={};var last_shown={};var last_active_item={};function jsmenu_event_trigger(menu_item_id,event_name){if(menu_item_id in menu_event_listener_tab&&event_name in menu_event_listener_tab[menu_item_id]){var func=menu_event_listener_tab[menu_item_id][event_name][0];var elem_ref=menu_event_listener_tab[menu_item_id][event_name][1];func(menu_item_id,elem_ref)}}function jsmenu_event_add(menu_item_id,event_name,func,elem_ref){var el=htElem(menu_item_id);if(el){htAddEventListener(el,event_name,function(){jsmenu_event_trigger(menu_item_id,event_name);return false});if(!(menu_item_id in menu_event_listener_tab)){menu_event_listener_tab[menu_item_id]=[]}menu_event_listener_tab[menu_item_id][event_name]=[func,elem_ref]}}function jsmenu_event_add_batch(menu_items_action_args,event_names_to_functions,item_init_function){for(var k in menu_items_action_args){if(menu_items_action_args.hasOwnProperty(k)){for(var i in event_names_to_functions){if(event_names_to_functions.hasOwnProperty(i)){jsmenu_event_add(k,i,event_names_to_functions[i],menu_items_action_args[k])}}item_init_function(k,menu_items_action_args[k])}}}function jsmenu_switch(menu_item_id,elem_id){if(last_shown!==elem_id){if("jsmenu_switch"in last_shown){setDisplay(last_shown.jsmenu_switch,"none");removeClassToHierarchy(last_active_item.jsmenu_switch,"active")}last_shown.jsmenu_switch=elem_id;last_active_item.jsmenu_switch=menu_item_id;setDisplay(elem_id,"inline-block");addClassToHierarchy(menu_item_id,"active")}}function jsmenu_show(menu_item_id,unused){if(!("jsmenu_showmenu"in last_shown)){last_shown.jsmenu_showmenu=menu_item_id;last_shown.jsmenu_setup={};var menu_elem=document.getElementById(menu_item_id);for(var i=0;i<menu_elem.childNodes.length;i++){if(menu_elem.childNodes[i].nodeName==="UL"){for(var j=0;j<menu_elem.childNodes[i].childNodes.length;j++){if(menu_elem.childNodes[i].childNodes[j].nodeName==="LI"){last_shown.jsmenu_setup[i+"-"+j]=menu_elem.childNodes[i].childNodes[j].style.visibility;menu_elem.childNodes[i].childNodes[j].style.visibility="visible"}}}}setTimeout(function(){for(i=0;i<menu_elem.childNodes.length;i++){if(menu_elem.childNodes[i].nodeName==="UL"){for(j=0;j<menu_elem.childNodes[i].childNodes.length;j++){if(menu_elem.childNodes[i].childNodes[j].nodeName==="LI"){menu_elem.childNodes[i].childNodes[j].style.visibility=last_shown.jsmenu_setup[i+"-"+j]}}}}},1e3);setTimeout(function(){delete last_shown.jsmenu_showmenu;delete last_shown.jsmenu_setup},2e3)}}
</script>
<!--add event to element linked to menu_item 'resistor_decoder-->
<!--add event to element linked to menu_item 'block_stock_resistor-->
<script>
/*
 * lib_html.js
 * 
 */
function htGoTrough(el, obj, func) {
    for (var k in obj) {
        if (k === 'parent') {
            func(el.parentNode, obj[k]);
        } else if (k === 'this') {
            func(el, obj[k]);
        } else {
            func(el.childNodes[k], obj[k]);
        }
    }
}
function htMixed(el, obj, func) {
    if (typeof obj === 'object') {
        htGoTrough(el, obj, func);
    } else {
        func(el, obj);
    }
}
function htElem(elem_id) {
    var el = document.getElementById(elem_id);
    if (el === null) {
        console.log("Warning : html element id='" + elem_id + "' don't exist");
    }
    return el;
}
function theSameForSimilarParents(el, obj, func) {
    var typeNode = el.nodeName;
    func(el, obj);
    while (el.parentNode) {
        el = el.parentNode;
        func(el, obj);
    }
}
function htRemoveClass(el, class_a) {
    el.className = el.className.replace(
    	new RegExp('(^| )' + class_a + '( |$)', ''), 
    	" ");
}
function htAddClass(el, class_a) {
    el.className = el.className + ' ' + class_a;
}
function setClass(elem_id, class_a) {
    htElem(elem_id).className = class_a;
}
function getClass(elem_id) {
    return htElem(elem_id).className;
}
function addClass(elem_id, class_a) {
    htMixed(htElem(elem_id), class_a, htAddClass);
}
function removeClass(elem_id, class_a) {
    htMixed(htElem(elem_id), class_a, htRemoveClass);
}
function addClassToHierarchy(elem_id, class_a) {
    theSameForSimilarParents(htElem(elem_id), class_a,
       function(el, obj) {
            htMixed(el, obj, htAddClass);
        });
}
function removeClassToHierarchy(elem_id, class_a) {
    theSameForSimilarParents(htElem(elem_id), class_a,
        function(el, obj) {
            htMixed(el, obj, htRemoveClass);
        });
}
function htAddEventListener(el, event_name, trigger_function) {
    if (el.addEventListener) { // For all major browsers, except IE 8 and earlier
        el.addEventListener(event_name, trigger_function);
    } else if (el.attachEvent) { // For IE 8 and earlier versions
        el.attachEvent(event_name, trigger_function);
    }
}
function addEventListener(elem_id, event_name, trigger_function) {
    var el = document.getElementById(elem_id);
    if (el !== null) {
        htAddEventListener(el, event_name.replace(/^on/, ''), trigger_function);
    }
}
function htSetClassOnEvents(el, elem_id, class_a) {
    if (typeof class_a === 'object') {
        for (var k in class_a) {
            if (class_a.hasOwnProperty(k)) {
                el.setAttribute(k, "setClass('" + elem_id + "','" + class_a[k] + "')");
            }
        }
    }
}
function translateContents(pre_id, h) {
    for (var k in h) {
        if (h.hasOwnProperty(k)) {
            htElem(pre_id + k).innerHTML = h[k];
        }
    }
}
function htSetHover(el, elem_id, class_a) {
    el.setAttribute('onmouseover', "addClass('" + elem_id + "'," + class_a + ")");
    el.setAttribute('onmouseout', "removeClass('" + elem_id + "'," + class_a + ")");
}
function setInputValue(elem_id, val) {
    htElem(elem_id).value = val;
}
function setDisplay(elem_id, dis_a) {
    htElem(elem_id).style.display = dis_a;
}
function setVisible(elem_id, boolean) {
    htElem(elem_id).style.visibility = boolean ? 'visible' : 'hidden';
}
function setInnerHTML(elem_id, txt) {
    htElem(elem_id).innerHTML = txt;
}
function switchClass(array_id_a, class_a, array_id_b) {
    var idx;
    //console.log(array_id_a, class_a, array_id_b);
    for (idx = 0; idx < array_id_a.length; idx++) {
        addClass(array_id_a[idx], class_a);
    }
    for (idx = 0; idx < array_id_b.length; idx++) {
        removeClass(array_id_b[idx], class_a);
    }
}
function getCheckedElementByName(doc, elem_name) {
    var radios = doc.getElementsByName(elem_name);
    var res;
    for (var i = 0, length = radios.length; i < length; i++) {
        if (radios[i].checked) {
            res = radios[i];
            break;
        }
    }
    return res;
}
function secureText(data) {
    return data.replace("<", '&lt;').replace(">", '&gt;').replace("&mu;", "u").replace("µ", "u");
}
function makeHtmlTag(tagname, txt, list_attr) {
    var res = "<" + tagname;
    for (var k in list_attr) {
        if (list_attr[k] !== null) {
            res = res + " " + k + '="' + list_attr[k] + '"';
        }
    }
    res = res + ">" + txt + "</" + tagname + ">";
    return res;
}
function htmlBtn(txt, list_attr) {
    return makeHtmlTag("button", txt, list_attr);
}
function htmlArticle(txt, list_attr) {
    return makeHtmlTag("article", txt, list_attr);
}
function htmlFigure(txt, caption, list_attr) {
    return makeHtmlTag("figure", txt + makeHtmlTag('figcaption', caption, {}), list_attr);
}
function htmlDiv(tab_txt, list_attr, tab_order) {
    var txt;
    if (typeof tab_txt === 'string') {
        txt = tab_txt;
    } else if ( typeof(tab_order) === 'object') {
        txt = "";
        for (var i = 0; i < tab_order.length; i++) {
            txt = txt + tab_txt[tab_order[i]];
        }
    } else {
        txt = tab_txt.join("");
    }
    return makeHtmlTag("div", txt, list_attr);
}
function htmlSmall(txt) {
    return makeHtmlTag("small", txt, {});
}
function htmlLarge(txt) {
    return makeHtmlTag("large", txt, {});
}
function htmlBig(txt) {
    return makeHtmlTag("big", txt, {});
}
function htmlStrong(txt) {
    return makeHtmlTag("big", txt, {});
}
function htmlSpan(txt, list_attr) {
    return makeHtmlTag("span", txt, list_attr);
}
function htmlMatrix(tab_fill, tag, hash_elem_func) {
    var elems = "";
    var func;
    for (var i = 0; i < tab_fill.length; i++) {
        elems = elems + '<' + tag + '>';
        for (var k = 0; k < tab_fill[i].length; k++) {
            if (hash_elem_func !== null) {
                if (tab_fill[i][k] in hash_elem_func) {
                    func = hash_elem_func[tab_fill[i][k]];
                } else if ('default' in hash_elem_func) {
                    func = hash_elem_func['default'];
                } else {
                    func = tab_fill[i][k];
                }
            } else {
                func = tab_fill[i][k];
            }
            elems = elems + ((typeof func === 'function') ? func(tab_fill[i][k]) : func);
        }
        elems = elems + '</' + tag + '>';
    }
    return elems;
}
var anim={};var current_interval=0;function shake(elem_id){try{if(!(elem_id in anim)){var elem=document.getElementById(elem_id);anim[elem_id]=elem.className;setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_shake"},0);setTimeout(function(){elem.className=anim[elem_id]},100);setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_shake"},200);setTimeout(function(){elem.className=anim[elem_id];delete anim[elem_id]},300)}}catch(e){throw e+" -> elem id="+elem_id}}function hurt(elem_id){if(!(elem_id in anim)){var elem=document.getElementById(elem_id);anim[elem_id]=elem.className;setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_hurt1"},0);setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_hurt2"},100);setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_hurt3"},200);setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_hurt4"},300);setTimeout(function(){elem.className=anim[elem_id]+" rotate_item_hurt5"},400);setTimeout(function(){elem.className=anim[elem_id];delete anim[elem_id]},500)}}function unblink(){clearInterval(current_interval);current_interval=0}function blink(elem_id,time1,class1,time2,class2,timeinterval){if(current_interval>0){unblink()}var elem=document.getElementById(elem_id);var orig_class=elem.className;current_interval=setInterval(function(){setTimeout(function(){elem.className=orig_class+(class1.length>0?"( "+class1:"")},time1);setTimeout(function(){elem.className=orig_class+(class2.length>0?"( "+class2:"")},time2)},timeinterval)}
var parse_unit_regexp = new RegExp('(k|M|m|n|u|p)', '');
function parseUnit(a) {
    var res;
    var pos_mult = a.search(parse_unit_regexp);
    if (pos_mult > -1) {
        var mult;
        res = a.charAt(pos_mult);
        switch (res) {
            case 'M':
                mult = 1000000;
                break;
            case 'k':
                mult = 1000;
                break;
            case 'm':
                mult = parseFloat(Math.pow(10, -3));
                break;
            case 'u':
                mult = parseFloat(Math.pow(10, -6));
                break;
            case 'n':
                mult = parseFloat(Math.pow(10, -9));
                break;
            case 'p':
                mult = parseFloat(Math.pow(10, -12));
                break;
        }
        res = parseFloat(
            a.replace(res, '.')) * mult;
    } else {
        res = parseFloat(a);
    }
    return res;
}
function roundRelative(a, p) {
    var res = a + "";
    var e_num = (Math.round(Math.log(a) / Math.log(10))) - p; //get exp number
    return Math.round(a / Math.pow(10, e_num)) / Math.pow(10, -e_num);
}
function formatUnit(a, details) {
    var res = a + "";
    var p = 4; //precision
    if (a > -1) {
        if (a >= 1000000) {
            res = Math.round(a * Math.pow(10, p)) / Math.pow(10, p + 6) + 'M';
        } else if (a >= 1000) {
            res = Math.round(a * Math.pow(10, p)) / Math.pow(10, p + 3) + 'k';
        } else if (a >= 1) {
            res = Math.round(a * Math.pow(10, p)) / Math.pow(10, p);
        } else if (a >= Math.pow(10, -3)) {
            res = Math.round(a * Math.pow(10, 3 + p)) / Math.pow(10, p) + 'm';
        } else if (a >= Math.pow(10, -6)) {
            res = Math.round(a * Math.pow(10, 6 + p)) / Math.pow(10, p) + '&mu;';
        } else if (a >= Math.pow(10, -9)) {
            p = 6;
            res = (details ? Math.round(a * Math.pow(10, 6 + p)) / Math.pow(10, p) + '&mu;' +
                ' ou ' : "") + Math.round(a * Math.pow(10, 9 + p)) / Math.pow(10, p) + 'n';
        } else {
            p = 8;
            res = Math.round(a * Math.pow(10, 6 + p)) / Math.pow(10, p) + '&mu;';
            res = res + ' ou ' + Math.round(a * Math.pow(10, 9 + p)) / Math.pow(10, p) + 'n';
            res = (details ? Math.round(a * Math.pow(10, 6 + p)) / Math.pow(10, p) + '&mu;' +
                ' ou' + Math.round(a * Math.pow(10, 9 + p)) / Math.pow(10, p) + 'n' +
                ' ou ' : "") + Math.round(a * Math.pow(10, 12 + p)) / Math.pow(10, p) + 'p';
        }
    }
    return res;
}
function reverseDict(dict){var res={};for(var k in dict){if(dict.hasOwnProperty(k)){res[dict[k]]=k}}return res}function hashToString(h){var h_txt="{";for(var k in h){if(h.hasOwnProperty(k)){h_txt=h_txt+k+":"+h[k].toString()+","}}return h_txt.replace(/,$/,"")+"}"}
var PKG_ID_TO_CHAR={PACKAGE_RING:"r",PACKAGE_BOBINE:"b",PACKAGE_CMS:"s",PACKAGE_CERAMIC:"c",PACKAGE_ELECTROLYTIC:"e",PACKAGE_PLASTIC:"p"};var PKG_CHAR_TO_ID=reverseDict(PKG_ID_TO_CHAR);var PKG_ID_TO_MODE={PACKAGE_RING:10,PACKAGE_BOBINE:1,PACKAGE_CMS:2,PACKAGE_CERAMIC:3,PACKAGE_ELECTROLYTIC:4,PACKAGE_PLASTIC:5};var PKG_MODE_TO_ID=reverseDict(PKG_ID_TO_MODE);var PKG_ID_TO_TYPE_DEF={PACKAGE_RING:"RESISTOR",PACKAGE_BOBINE:"RESISTOR",PACKAGE_CMS:"RESISTOR",PACKAGE_CERAMIC:"CAPACITOR",PACKAGE_ELECTROLYTIC:"CAPACITOR",PACKAGE_PLASTIC:"CAPACITOR"};var PKG_COLOR_ID_TO_CHAR={RESISTOR_CARBON:"C",RESISTOR_METAL_BLUE:"B",RESISTOR_METAL_GREEN:"V",RESISTOR_METAL_RED:"R",CAPACITOR_PINK:"P",CAPACITOR_GREEN:"G"};var PKG_COLOR_CHAR_TO_ID=reverseDict(PKG_COLOR_ID_TO_CHAR);var color_tab_val={"":"cei_color_None",0:"cei_color_Black",1:"cei_color_Brown",4:"cei_color_Yellow",7:"cei_color_Violet",2:"cei_color_Red",5:"cei_color_Green",8:"cei_color_Gray",3:"cei_color_Orange",6:"cei_color_Blue",9:"cei_color_White"};var color_tab_mult={"":"cei_color_None",.1:"cei_color_Gold",.01:"cei_color_Silver",1:"cei_color_Black",10:"cei_color_Brown",100:"cei_color_Red",1e3:"cei_color_Orange",1e4:"cei_color_Yellow",1e5:"cei_color_Green",1e6:"cei_color_Blue",1e7:"cei_color_Violet"};var color_tab_tolerance={"":"cei_color_None",.2:"cei_color_Transparent",.1:"cei_color_Silver",.05:"cei_color_Gold",.01:"cei_color_Brown",.02:"cei_color_Red",.005:"cei_color_Green",.0025:"cei_color_Blue",.001:"cei_color_Violet"};var color_tab_corps={"":"cei_color_None",RESISTOR_CARBON:"cei_color_Beige",RESISTOR_METAL_BLUE:"cei_color_Cyan",RESISTOR_METAL_GREEN:"cei_color_Green",RESISTOR_METAL_RED:"cei_color_Red",CAPACITOR_PINK:"cei_color_Pink",CAPACITOR_GREEN:"cei_color_CapGreen"};var PKG_ID_TO_CONTENTS_MULT={PACKAGE_RING:{.1:"0.1",.01:"0.01",1:"1",10:"10",100:"100",1e3:"1k",1e4:"10k",1e5:"100k",1e6:"1M",1e7:"10M"},PACKAGE_CERAMIC:{.1:-2,.01:-1,1:0,10:1,100:2,1e3:3,1e4:4,1e5:5,1e6:6,1e7:7},PACKAGE_ELECTROLYTIC:{.1:"0.1p",.01:".01p",1:"1p",10:"10p",100:"100p",1e3:"1n",1e4:"10n",1e5:"100n",1e6:"1u",1e7:"10u"}};PKG_ID_TO_CONTENTS_MULT.PACKAGE_BOBINE=PKG_ID_TO_CONTENTS_MULT.PACKAGE_RING;PKG_ID_TO_CONTENTS_MULT.PACKAGE_CMS=PKG_ID_TO_CONTENTS_MULT.PACKAGE_RING;PKG_ID_TO_CONTENTS_MULT.PACKAGE_PLASTIC=PKG_ID_TO_CONTENTS_MULT.PACKAGE_ELECTROLYTIC;
var digit="[0-9]";var float_value="[0-9.]+";var int_value="[0-9]+";var opt_value=digit+"*";var multiple="[01.]*[kMm]?";var opt_digit=digit+"?";var resistor_units="kM";var capacitor_units="unp";var inductor_units="m";var opt_capacitor_unit="fF";var opt_inductor_unit="hH";var all_units="["+resistor_units+capacitor_units+inductor_units+"]?["+opt_capacitor_unit+opt_inductor_unit+"]?";var power_unit="wW";var desc_format=digit+","+opt_digit+","+opt_digit+","+multiple+","+float_value+","+"[a-zA-Z0-9.]+";var letter_regexp=new RegExp("^[a-zA-Z]+$","");var power_regexp=new RegExp("^"+float_value+"["+power_unit+"]$");var desc_regexp=new RegExp("^"+desc_format+"$","");var value_regexp=new RegExp("^"+float_value+all_units+opt_value+"$","");var power_prop_regexp=new RegExp(".*,"+float_value+"["+power_unit+"]"+"\\]"+"$","");var ring_prop_regexp=new RegExp(".*,[A-Z]\\]"+"$","");var ceramic_prop_regexp=new RegExp(".*,c\\]"+"$","");var electrolytic_prop_regexp=new RegExp(".*,e\\]"+"$","");var plastic_prop_regexp=new RegExp(".*,p\\]"+"$","");var has_resistor_value_regexp=new RegExp("^"+float_value+"["+resistor_units+"]?"+opt_value+".*");var has_capacitor_value_regexp=new RegExp("^"+float_value+"["+capacitor_units+"]["+opt_capacitor_unit+"]?"+opt_value+"($|\\[)");var has_inductor_value_regexp=new RegExp("^"+float_value+"["+inductor_units+"]?["+opt_inductor_unit+"]"+opt_value+"($|\\[)");function is_resistor(data){return has_resistor_value_regexp.test(data)}function is_capacitor(data){return has_capacitor_value_regexp.test(data)}function is_inductor(data){return has_inductor_value_regexp.test(data)}function is_bobine_resistor(data){return power_prop_regexp.test(data)}function is_ring(data){return ring_prop_regexp.test(data)}function is_ceramic(data){return ceramic_prop_regexp.test(data)}function is_electrolytic(data){return electrolytic_prop_regexp.test(data)}function is_plastic(data){return plastic_prop_regexp.test(data)}function splitValueNDesc(desc){var pos1=desc.indexOf("[");var pos2=desc.indexOf("]",pos1);return[pos1>-1?desc.substring(0,pos1):desc,pos1>-1&&pos2>-1?desc.substring(pos1+1,pos2):""]}function get_tab_desc_in_desc(desc){var value_desc=splitValueNDesc(desc);var v_val=value_desc[0];var v_desc=value_desc[1];var tmp_tab;var tab_desc=["1","","","1","0.01","C",has_capacitor_value_regexp.test(v_val)?"CAPACITOR":has_resistor_value_regexp.test(v_val)?"RESISTOR":""];if(desc_regexp.test(v_desc)){tmp_tab=v_desc.split(",");for(var i=0;i<6;i++){if(tmp_tab[i]!==""){tab_desc[i]=tmp_tab[i]}}if(tab_desc[3].length>1){tab_desc[3]=parseUnit(tab_desc[3])}}else if(value_regexp.test(v_val)){v_val=parseUnit(v_val);if(tab_desc[6]==="CAPACITOR"){v_val=v_val*Math.pow(10,12)}if(v_val<1){v_val=""+v_val*100;tab_desc[0]=v_val[1];tab_desc[1]=v_val[2]+""!==""?v_val[2]:0;tab_desc[2]="";tab_desc[3]=.01}else if(v_val<10){v_val=""+v_val*10;tab_desc[0]=v_val[1];tab_desc[1]=v_val[2]+""!==""?v_val[2]:0;tab_desc[2]="";tab_desc[3]=.1}else{var e_num=Math.round(Math.log(v_val/10)/Math.log(10));v_val=""+v_val;tab_desc[0]=v_val[0];if(v_val[1]!=="0"){tab_desc[1]=v_val[1];if(v_val[2]!=="0"){tab_desc[2]=v_val[2]}else{e_num++}}else{e_num++}tab_desc[3]=Math.pow(10,e_num)}}return tab_desc}function get_standard_mode(tab_desc){var mode;if(power_regexp.test(tab_desc[5])){mode=PKG_ID_TO_MODE.PACKAGE_BOBINE}else{mode=PKG_ID_TO_MODE.PACKAGE_RING;mode=mode+(tab_desc[1]!==""?1:0)+(tab_desc[2]!==""?1:0)}return mode}function get3DigitNotation(tab_desc){var e_num=Math.round(Math.log(tab_desc[3])/Math.log(10));var round_val2=0;var res=""+tab_desc[0];if(tab_desc[1]+""!==""){if(tab_desc[2]+""!==""){round_val2=Math.round(parseFloat(tab_desc[2])/10);e_num=e_num+1}res=res+(parseInt(tab_desc[1],10)+round_val2)}else{res=res+"0";e_num=e_num-1}return res+e_num}function compute_value(value,mult,component_type){var val="";if(value[0].length===1){val=parseInt(value[0],10);if(value[1].length===1){val=val*10+parseInt(value[1],10)}if(value[2].length===1){val=val*10+parseInt(value[2],10)}if(mult.length>0){val=val*parseUnit(mult)*(component_type==="CAPACITOR"?Math.pow(10,-12):1)}}return val}var ComponentDesc=function(){this.value=["","",""];this.mult="";this.tolerance="";this.pow="";this.mode="";this.type="";this.corps="";this.package="";this.setValue=function(n,v){if(typeof v!=="string"&&!v){console.log("Warning : value "+n+" is undefined (type shall be string)");this.value[n]=""}else{this.value[n]=v+""}};this.setMult=function(v){this.mult=v+""};this.setTolerance=function(v){this.tolerance=v};this.setPower=function(v){this.pow=v};this.setMode=function(v){this.mode=v};this.setType=function(v){this.type=v};this.setCorps=function(v){this.corps=v};this.setPackage=function(v){this.package=v};this.getRef=function(){return secureText(formatUnit(this.getValue())+"["+this.getDesc()+"]")};this.getDesc=function(){return""+this.value[0]+","+this.value[1]+","+this.value[2]+","+formatUnit(this.mult)+","+this.tolerance+","+(this.pow!==""?this.pow:this.corps)};this.autosetMode=function(){this.mode=get_standard_mode(this.getDesc())};this.isComplete=function(){var nb=PKG_ID_TO_MODE.PACKAGE_RING;return this.value[0]!==""&&(this.value[1]!==""||this.mode<nb+1)&&(this.value[2]!==""||this.mode<nb+2)&&this.mult!==""&&this.tolerance!==""&&(this.pow!==""||this.mode!==PKG_ID_TO_MODE.PACKAGE_BOBINE)};this.getValue=function(){return compute_value(this.value,this.mult,this.type)};this.getMeasureAndUnit=function(){return this.type==="CAPACITOR"?["C","Farad"]:["R","Ohm"]};this.fromRef=function(desc){var tab_desc=get_tab_desc_in_desc(desc);this.setValue(0,tab_desc[0]);this.setValue(1,tab_desc[1]);this.setValue(2,tab_desc[2]);this.setMult(tab_desc[3]);this.setTolerance(tab_desc[4]);this.setType(tab_desc[6]);if(power_regexp.test(tab_desc[5])){this.setPower(tab_desc[5])}else if(letter_regexp.test(tab_desc[5])){this.setCorps(tab_desc[5])}}};function get_value_from_tab_desc(tab_desc){return compute_value([tab_desc[0],tab_desc[1],tab_desc[2]],tab_desc[3],tab_desc[6])}function get_cei_color_tab(desc){var color_tab=["cei_color_None","cei_color_None","cei_color_None","cei_color_None","cei_color_None","cei_color_None"];var tab_desc=get_tab_desc_in_desc(desc);color_tab[0]=color_tab_val[tab_desc[0]];color_tab[1]=color_tab_val[tab_desc[1]];color_tab[2]=color_tab_val[tab_desc[2]];color_tab[3]=color_tab_mult[tab_desc[3]];color_tab[4]=color_tab_tolerance[tab_desc[4]];color_tab[5]=color_tab_corps[PKG_COLOR_CHAR_TO_ID[tab_desc[5]]];return color_tab}function correctValueFromDesc(desc){var cmpnt=new ComponentDesc;cmpnt.fromRef(desc);return cmpnt.getRef()}
function htComponent(class_type,class_coloration,content){return htmlSpan(content,{"class":class_type+" "+class_coloration})}function htSubPart(classname,content,after){return htmlSpan(content,{"class":classname})+after}function ring_package_view(data){var tab_desc=get_tab_desc_in_desc(data);var mode=get_standard_mode(tab_desc);var space="&nbsp;&nbsp;";var cei_coloration=get_cei_color_tab(data);return"&mdash;"+htComponent("resistor_view ",cei_coloration[5],"&nbsp;"+htSubPart(cei_coloration[0],space," ")+htSubPart(cei_coloration[1],space," ")+(mode>PKG_ID_TO_MODE.PACKAGE_RING+1?htSubPart(cei_coloration[2],space," "):"")+htSubPart(cei_coloration[3],space," ")+htSubPart(cei_coloration[4],space," ")+(mode===6?htSubPart("cei_color_None",space," "):"")+"&nbsp;")+"&mdash;"}function electrolytic_capacitor_view(data){var value=splitValueNDesc(data)[0];return htmlSmall(htmlSpan(htmlSmall(htSubPart("eletrolytic_pkg_view_round cei_color_Silver","&nbsp;&nbsp;&nbsp;",htmlStrong("..")+value+htmlStrong(".."))),{"class":"eletrolytic_pkg_view_cylinder cei_color_Black"}))+htSubPart("rotate_item_unvertical","||","")}function plastic_capacitor_view(data){var value=splitValueNDesc(data)[0];return htComponent("plastic_pkg_view","cei_color_Blue",value)}function ceramic_capacitor_view(data){var tab_desc=get_tab_desc_in_desc(data);return htmlSpan("&nbsp;"+get3DigitNotation(tab_desc)+"&nbsp;",{"class":"eletrolytic_pkg_view_cylinder ceramic_color_Brown down_small_item"})+htmlDiv("|&nbsp;|",{})}function bobine_resistor_view(data){var tab_desc=get_tab_desc_in_desc(data);return"&mdash;"+htComponent("power_resistor_view","","&nbsp;&nbsp;"+formatUnit(get_value_from_tab_desc(tab_desc))+" "+tab_desc[5]+"&nbsp;&nbsp;")+"&mdash;"}function undefined_component(data){var value=splitValueNDesc(data)[0];return"&mdash;"+htComponent("","cei_color_Black","&nbsp;&nbsp;"+data+"&nbsp;&nbsp;")+"&mdash;"}function get_component_view(data){return is_ring(data)?ring_package_view(data):is_bobine_resistor(data)?bobine_resistor_view(data):is_ceramic(data)?ceramic_capacitor_view(data):is_plastic(data)?plastic_capacitor_view(data):is_electrolytic(data)?electrolytic_capacitor_view(data):undefined_component(data)}
var changes={};function isValidStockFormat(data){return/^[0-9.]+([kmMnup][0-9]*)?(\[[a-z0-9.,]*\])?$/i.test(data)}function formatToValidStockFormat(data){return data.replace(/(^|$)/g," ").replace(/ [^0-9 ]+[^ ]* /," ")}function remove_operators(data){return data.replace(/(\(|\)|\+|\/\/)+/g," ").replace(/(\s)+/g," ").replace(/(^\s|\s$)/g,"")}function reformat_stock(v_stock){var stock_parse_tab=formatToValidStockFormat(secureText(remove_operators(v_stock))).split(" ");var v_stock_hash={};var i;var k;var qte;for(i=0;i<stock_parse_tab.length;i++){k=stock_parse_tab[i];if(k.search("{")>0){qte=parseInt(k.replace(/(.*\{)/,"").replace(/(\})/,""),10);k=k.replace(/(\{.*)/,"")}else{qte=1}if(k in v_stock_hash){v_stock_hash[k]=v_stock_hash[k]+qte}else{v_stock_hash[k]=qte}}v_stock="";delete v_stock_hash[""];for(k in v_stock_hash){v_stock=v_stock.concat(correctValueFromDesc(k),"{",v_stock_hash[k],"} ")}return v_stock.replace(/(^\s|\s$)/g,"")}function is_valid_stock(inputField){var isValid=/^(\s)*[0-9.]+([kmMnup][fFhH]?[0-9]*[fFhH]?)?(\[[a-z0-9.,]*\])?(\{[0-9]+\})?((\s)*[0-9.]+([kmMnup][fFhH]?[0-9]*[fFhH]?)?(\[[a-z0-9.,]*\])?(\{[0-9]+\})?)*(\s)*$/i.test(inputField.value);if(isValid){inputField.style.backgroundColor="#bfa"}else{inputField.style.backgroundColor="#fba"}return isValid}function reformat_input_stock(){htElem("my_stock_resistor").value=reformat_stock(htElem("my_stock_resistor").value);htElem("my_stock_capacitor").value=reformat_stock(htElem("my_stock_capacitor").value)}function componentImgDiv(data_id,data_list,article_prop,figure_prop,caption_html,aside_html){var div=document.createElement("tmp_div");var data;var tmp_html="";for(var i=0;i<data_list.length;i++){data=data_list[i];if(data==="//"){tmp_html=tmp_html.concat("<br>")}else if(data==="("){tmp_html=tmp_html.concat("<div class='resistor_inline'>")}else if(data===")"){tmp_html=tmp_html.concat("</div>")}else{tmp_html=tmp_html+get_component_view(data)}}figure_prop.id=data_id;div.innerHTML=htmlArticle(htmlFigure(tmp_html,caption_html,figure_prop)+aside_html,article_prop);return div}function getComponentImg(data,qte,input_id){return componentImgDiv(data,[data],{"class":"div_article"},{"class":"resistor_view_canvas",draggable:"true",ondragstart:"event.dataTransfer.setData('text','"+data+"')"},data+htmlSpan(htmlBig("&times; "+qte),{"class":"shown_data",id:"qte"+data}),htmlDiv([htmlBtn(htmlLarge("+"),{onclick:"unblink();add_to_stock('"+data+"');"}),htmlBtn(htmlLarge(qte>1?"-":"x"),{onclick:"popElemFromInputStock('"+data+"','"+input_id+"');","class":qte>1?null:"button_deprecated"})],{"class":"div_button",onmouseover:"blink('qte"+data+"',0,'blink_data',200,'shown_data',500);",onmouseout:"unblink();"}))}function make_view_from_formatted_stock(stock_txt_id,stock_view_id){var stock_parse_tab=htElem(stock_txt_id).value.split(" ");var i;var k;var qte;var node=htElem(stock_view_id);while(node.hasChildNodes()){node.removeChild(node.lastChild)}for(i=0;i<stock_parse_tab.length;i++){k=stock_parse_tab[i];qte=parseInt(k.replace(/(.*\{)/,"").replace(/(\})/,""),10);k=k.replace(/(\{.*)/,"");if(k!==""){node.appendChild(getComponentImg(k,qte,stock_txt_id))}}}function add_to_taken_stock_view_resistor(data,info){var formatted_caption=data.replace(/(\(.*)(\()/g,function(a,x,y){return x+"<br>"+y}).replace(/^(\()(.*)(\))$/g,function(a,b,x,c){return x}).replace(/(\(|\))/g,function(x){return"&#8239;<small>"+x+"</small>&#8239;"}).replace(/(\/\/|\+)/g,function(x){return"&#8239;<strong>"+x+"</strong>&#8239;"});htElem("taken_stock_view_resistor").appendChild(componentImgDiv(data,data.match(/(\(|\)|\/\/|[a-z0-9.]+(\[[a-z0-9.,]*\])?)/gi),{"class":"resistor_view_canvas_resistor_small"},{"class":" resistor_small",draggable:"true",ondragstart:"event.dataTransfer.setData('text','"+data+"')"},formatted_caption+htmlSpan("<br>"+info,{"class":"shown_data",id:data})+htmlDiv([htmlBtn("Remettre",{onclick:"add_to_stock('"+data+"');taken_stock_remove('"+data+"');"}),htmlBtn("x",{onclick:"taken_stock_remove('"+data+"');","class":"button_deprecated"})],{}),""))}function makeViewFromFormattedTakenStock(node_id,source_txt_id,combinefuncset){var node=htElem(node_id);while(node.hasChildNodes()){node.removeChild(node.lastChild)}var formulas=new FormulaSet;formulas.populateFromTxt(htElem(source_txt_id).value);var h=formulas.getHash();for(k in h){if(h.hasOwnProperty(k)){var value_min_max_tab=formulas.getMinMaxValues(k,combinefuncset);var formula_value=(value_min_max_tab[0]+value_min_max_tab[1])/2;formula_tol=Math.round(Math.abs(formula_value-value_min_max_tab[0])/formula_value*100);add_to_taken_stock_view_resistor(k,"<em>=".concat(formula_value," (+/- ",formula_tol,"%) Ohm</em>"))}}}function updateStock(){if(changes["input"]){reformat_input_stock();make_view_from_formatted_stock("my_stock_resistor","stock_view_resistor");make_view_from_formatted_stock("my_stock_capacitor","stock_view_capacitor")}changes["input"]=false}function declareInputChanged(){changes["input"]=true}function taken_stock_remove(formule){htElem("my_stock_resistor_pris").value=htElem("my_stock_resistor_pris").value.replace(formule,"");makeViewFromFormattedTakenStock("taken_stock_view_resistor","my_stock_resistor_pris",combine_resistance)}function popElemFromInputStock(formule,input_id){var grp_parse_tab=formule.replace(/[(+)]/g,function(x){return" "+x+" "}).replace(/(\s)+/g," ").split(" ");var i;var new_stock=htElem(input_id).value.replace(/(^|$)/g," ");var pos,pos2,pos3;var qte;var detailled_componant;var taken_stock="";for(i=0;i<grp_parse_tab.length;i++){if(grp_parse_tab[i]===""||grp_parse_tab[i]==="("||grp_parse_tab[i]===")"||grp_parse_tab[i]==="+"||grp_parse_tab[i]==="//"){taken_stock=taken_stock.concat(grp_parse_tab[i])}else{pos=new_stock.indexOf(" "+grp_parse_tab[i]+"{");if(pos<0){pos=new_stock.indexOf(" "+grp_parse_tab[i]+"\\[");if(pos<0){return""}pos2=new_stock.indexOf("]",pos);if(pos2<0){alert(new_stock.slice(pos,pos+grp_parse_tab[i].length+2)," est incomplet. Le format pour indiquer la référence est 'valeur[référence]'. ");return""}detailled_componant=new_stock.slice(pos+1,pos2+1);taken_stock=taken_stock.concat(detailled_componant)}else{taken_stock=taken_stock.concat(grp_parse_tab[i])}pos2=new_stock.indexOf("{",pos);pos3=new_stock.indexOf("}",pos2);qte=new_stock.substring(pos2+1,pos3);if(qte==="1"){new_stock=new_stock.substring(0,pos+1)+new_stock.substr(pos3+2)}else{new_stock=new_stock.substring(0,pos2+1)+(parseInt(qte,10)-1)+new_stock.substr(pos3)}}}htElem(input_id).value=new_stock.replace(/(^\s|\s$)/g,"");updateStock();return taken_stock}function dragResitorFromInput(ev,elem_input){if(elem_input.value!==""&&isValidStockFormat(elem_input.value)){ev.dataTransfer.setData("text",elem_input.value)}}function dragResitor(ev){if(my_component.getValue()!==""){ev.dataTransfer.setData("text",my_component.getRef())}}function dropText(ev,funcdo,funccallback){ev.preventDefault();var data=ev.dataTransfer.getData("text");funcdo(data);if(funccallback!==null){funccallback(data)}}function add_to_stock(data){var t=is_resistor(data)?"resistor":is_capacitor(data)?"capacitor":"";if(t!==""){t="my_stock_"+t;htElem(t).value=htElem(t).value.concat(" ",data)}updateStock()}function dropOnStock(ev){dropText(ev,add_to_stock,shake)}function allowDrop(ev){ev.preventDefault()}
addEventListener('my_stock_resistor', 'keyup',
	function (event) {
		declareInputChanged();
	});
addEventListener('my_stock_resistor', 'drop',
	function (event) {
		add_to_stock(event.dataTransfer.getData('text'))
	});
addEventListener('my_stock_resistor','dragover',
	function (event) {
		allowDrop(event);
	});
addEventListener('my_stock_resistor', 'mouseout',
	function (event) {
		updateStock(); is_valid_stock(this);
	});
addEventListener('my_stock_resistor', 'blur',
	function (event) {
		updateStock(); is_valid_stock(this);
	});
addEventListener('stock_view_resistor', 'drop',
	function (event) {
		dropOnStock(event);
	});
addEventListener('stock_view_resistor', 'drop',
	function (event) {
		dropOnStock(event);
	});
addEventListener('stock_view_resistor', 'dragover',
	function (event) {
		allowDrop(event);
	});
addClass('stock_view_resistor', "droppable");
</script>
<!--add event to element linked to menu_item 'block_stock_capacitor-->
<script>
addEventListener('my_stock_capacitor', 'keyup',
	function (event) {
		declareInputChanged();
	});
addEventListener('my_stock_capacitor', 'drop',
	function (event) {
		add_to_stock(event.dataTransfer.getData('text'))
	});
addEventListener('my_stock_capacitor','dragover',
	function (event) {
		allowDrop(event);
	});
addEventListener('my_stock_capacitor', 'mouseout',
	function (event) {
		updateStock(); is_valid_stock(this);
	});
addEventListener('my_stock_capacitor', 'blur',
	function (event) {
		updateStock(); is_valid_stock(this);
	});
addEventListener('stock_view_capacitor', 'drop',
	function (event) {
		dropOnStock(event);
	});
addEventListener('stock_view_capacitor', 'drop',
	function (event) {
		dropOnStock(event);
	});
addEventListener('stock_view_capacitor', 'dragover',
	function (event) {
		allowDrop(event);
	});
addClass('stock_view_capacitor', "droppable");
</script>
<!--add event to element linked to menu_item 'mini_calc-->
<script>
function getValResistancesEnSerie(a,b) {
	return parseFloat(parseFloat(a)+parseFloat(b));
}
function getValResistancesEnParallel(a,b) {
	var v_a=parseFloat(a);
	var v_b=parseFloat(b);
	var res;
	if (v_a===v_b) {
		res=(v_a/2);
	} else {
		res=((v_a*v_b)/(v_a+v_b));
	}
	return parseFloat(res);
}
function getValCondensateursEnParallel(a,b) {
	return getValResistancesEnSerie(a,b);
}
function getValCondensateursEnSerie(a,b) {
	return getValResistancesEnParallel(a,b);
}
var combine_resistance={
	'+':getValResistancesEnSerie,
	'//':getValResistancesEnParallel,
	'-':function (a,b){return a-b;},
	'*':function (a,b){return a*b;},
	'/':function (a,b){return a/b;}
};
var combine_capacitance={
	'+':getValCondensateursEnSerie,
	'//':getValCondensateursEnParallel,
	'-':function (a,b){return a-b;},
	'*':function (a,b){return a*b;},
	'/':function (a,b){return a/b;}
};
function parseAndCompute(formule,funcset) {
	/* // -> funcpar;  + -> funcadd */
	//enleve les espace inutiles
	var res=formule.replace('µ','u').replace(/\([\s]*([0-9.]+[Mmknup]?[0-9]*(e[-]?[1-9][0-9]?)?[Mmknup]?)[\s]*\)/,function(x,y) {return y;});
	if (! (/(\/\/|\+|-|\*|\/)/.test(res)) ) {
		//si pas d'operateur binaire
		res=parseUnit(res);
	} else { // sinon
		var func_subst=function(a,b,c,d,e,f,g,h,i,j) {
				return funcset[e](parseUnit(c),parseUnit(f));
			};
		while ((/(^|\()[\s]*([0-9.]+[Mmknup]?[0-9]*(e[-]?[1-9][0-9]?)?[Mmknup]?)[\s]*(\/\/|\+|-|\*|\/)[\s]*([0-9.]+[Mmknup]?[0-9]*(e[-]?[1-9][0-9]?)?[Mmknup]?)[\s]*(\)|$)/.test(res))) {
		res=res.replace(/(^|\()[\s]*([0-9.]+[Mmknup]?[0-9]*(e[-]?[1-9][0-9]?)?[Mmknup]?)[\s]*(\/\/|\+|-|\*|\/)[\s]*([0-9.]+[Mmknup]?[0-9]*(e[-]?[1-9][0-9]?)?[Mmknup]?)[\s]*(\)|$)/g,func_subst);
		}
	}
	return res;
}
// Event listener defined with html object
// addEventListener('', 'keyup', function (event) { .. });
function mini_calc_resistance() {
	var user_input=document.getElementById('calc_in_resistance').value.replace(
	/[abcdfghijloqrstvwxyzABCDEFGHIJKLNOPQRSTUVWXYZ]+[a-zA-Z]*/g,'');
	document.getElementById('calc_out_resistance').innerHTML=formatUnit(
	parseAndCompute(user_input,combine_resistance),true);
}
function mini_calc_capacitance() {
	var user_input=document.getElementById('calc_in_capacitance').value.replace(
	/[abcdfghijloqrstvwxyzABCDEFGHIJKLNOPQRSTUVWXYZ]+[a-zA-Z]*/g,'');
	while (/(e[0-9]+)([^Mkmnup]|$)/.test(user_input)) { // unite standard : picofarad
		user_input=user_input.replace(/(^|[^0-9])([0-9]+e[0-9]+)([^Mkmnup]|$)/g,
		function (a,b,c,d) {
			return b + c + "p" + d;
		});
	}
	document.getElementById('calc_out_capacitance').innerHTML=formatUnit(
	parseAndCompute(user_input,combine_capacitance),true);
}
</script>
<!--add event to element linked to menu_item 'calc_combi_resistance-->
<!--add event to element linked to menu_item 'calcul_puissance-->
<!--add event to element linked to menu_item 'diviseur_tension-->
<script>
// set view switching (based on the id of the HTML block) on clicks events 
jsmenu_event_add_batch(
		{"menu_stock":true,"menu_calcul":true,"menu_montages":true},
		{
			dragover:jsmenu_show
		}, function (menu_item_id,unused){}
)
jsmenu_event_add_batch(
		{"menu_resistor_decoder":"resistor_decoder","menu_block_stock_resistor":"block_stock_resistor","menu_block_stock_capacitor":"block_stock_capacitor","menu_mini_calc":"mini_calc","menu_calc_combi_resistance":"calc_combi_resistance","menu_calcul_puissance":"calcul_puissance","menu_diviseur_tension":"diviseur_tension"},
		{
			click:jsmenu_switch,
			dragover:jsmenu_switch
		}, function (menu_item_id,div_id){
			setDisplay(div_id,'none');
		}
)
</script>
</html>
<script>console.log('File modified by make_insert_deps.sh at Tue May 17 15:36:09 BST 2016')</script>
